<div class="modal-header">
  <h1 mat-dialog-title class="modal-title / pull-left">{{ 'component.user-' + componentMode.mode + '.title'|translate }}</h1>
  <button mat-dialog-close cdkFocusInitial type="button" class="close pull-right" [attr.aria-label]="'common.close'|translate">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">
  <p class="lead / mb-4">{{ 'component.user-' + componentMode.mode + '.perex'|translate }}</p>
  <form [formGroup]="registForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group row">
      <label for="email" class="col-sm-3 col-form-label">{{ 'common.form.fields.email'|translate }}</label>
      <div class="col-sm-9">
        <input appFormControl formControlName="email" type="email" class="form-control" id="email" maxlength="30" required>
      </div>
    </div>
    <ng-container *ngIf="isEditMode">
      <div class="form-group row">
        <label for="name" class="col-sm-3 col-form-label / text-nowrap">{{ 'common.form.fields.name'|translate }}</label>
        <div class="col-sm-9">
          <input appFormControl formControlName="name" type="text" class="form-control" id="name" maxlength="50" required>
        </div>
      </div>
      <div class="form-group row">
          <label for="surname" class="col-sm-3 col-form-label / text-nowrap">{{ 'common.form.fields.surname'|translate }}</label>
          <div class="col-sm-9">
            <input appFormControl formControlName="surname" type="text" class="form-control" id="surname" maxlength="50" required>
          </div>
        </div>
    </ng-container>
    <div class="form-group row">
      <label for="password" class="col-sm-3 col-form-label">{{ 'common.form.fields.password'|translate }}</label>
      <div class="col-sm-9">
        <input appFormControl formControlName="password" type="password" class="form-control" id="password" maxlength="50" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="confirmPassword" class="col-sm-3 col-form-label / text-nowrap">{{ 'common.form.fields.confirmPassword'|translate }}</label>
      <div class="col-sm-9">
        <input appFormControl formControlName="passwordConfirm" type="password" class="form-control" id="confirmPassword" maxlength="50" required>
      </div>
    </div>
    <div *ngIf="!isEditMode" class="form-group row">
      <label for="role" class="col-sm-3 col-form-label">{{ 'common.form.fields.role'|translate }}</label>
      <div class="col-sm-9">
        <select appFormControl [emptyOption]="true" *ngIf="(roles$ | async) as roles; else loading" formControlName="role" class="form-control" id="role" required>
          <option *ngFor="let role of roles" [appSelectOption]="role"></option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-9 offset-sm-3">
        <input type="submit" class="btn btn-success" [value]="'common.form.fields.submit-' + componentMode.submit|translate" [disabled]="registForm.invalid">
      </div>
    </div>
  </form>
</div>

<ng-template #loading>
  <app-loader></app-loader>
</ng-template>
