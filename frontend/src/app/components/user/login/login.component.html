<div class="modal-header">
  <h1 mat-dialog-title class="modal-title / pull-left">{{ 'component.user-login.title'|translate }}</h1>
  <button mat-dialog-close type="button" class="close pull-right" [attr.aria-label]="'common.close'|translate">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">
  <p class="lead / mb-4">{{ 'component.user-login.perex'|translate }}</p>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group row">
      <label for="email" class="col-sm-2 col-form-label">{{ 'common.form.fields.email'|translate }}</label>
      <div class="col-sm-10">
        <input appFormControl formControlName="email" type="email" class="form-control" id="email" maxlength="30" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="password" class="col-sm-2 col-form-label">{{ 'common.form.fields.password'|translate }}</label>
      <div class="col-sm-10">
        <input appFormControl formControlName="password" type="password" class="form-control" id="password" maxlength="50" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="role" class="col-sm-2 col-form-label">{{ 'common.form.fields.role'|translate }}</label>
      <div class="col-sm-10">
        <select *ngIf="(roles$ | async); else loading" appFormControl [emptyOption]="true" formControlName="role" class="form-control" id="role" required>
          <option *ngFor="let role of roles$ | async" [appSelectOption]="role"></option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10 offset-sm-2">
        <input [disabled]="loginForm.invalid" type="submit" class="btn btn-success" [value]="'common.form.fields.submit-login'|translate">
      </div>
    </div>
  </form>
</div>

<ng-template #loading>
  <mat-spinner [diameter]="'22'"></mat-spinner>
</ng-template>
